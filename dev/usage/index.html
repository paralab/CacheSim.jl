<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>How to use CacheSim · CacheSim.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="CacheSim.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">CacheSim.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Documentation for CacheSim.jl</a></li><li class="is-active"><a class="tocitem" href>How to use CacheSim</a></li><li><a class="tocitem" href="../examples/">Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>How to use CacheSim</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>How to use CacheSim</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/paralab/CacheSim.jl/blob/master/docs/src/usage.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="How-to-use-CacheSim"><a class="docs-heading-anchor" href="#How-to-use-CacheSim">How to use CacheSim</a><a id="How-to-use-CacheSim-1"></a><a class="docs-heading-anchor-permalink" href="#How-to-use-CacheSim" title="Permalink"></a></h1><p>These are the exported functions and structs. Most common usage will be limited to these.</p><h3 id="Creating-a-Cache"><a class="docs-heading-anchor" href="#Creating-a-Cache">Creating a Cache</a><a id="Creating-a-Cache-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-a-Cache" title="Permalink"></a></h3><p>Begin by creating <code>Cache</code> objects. This can be done through a cache definition file using <code>get_cacheSim_from_file</code> or directly with the <code>build_cache</code> function. When using the file, the entire hierarchy is constructed and the first level Cache is returned. This first level is the one used for all cache operations and it is linked to the other levels automatically. When building cache directly, begin by building the last level and build in order till the first level. Previous levels will be linked by passing them as the <code>load_from</code> and <code>store_to</code> arguments in <code>build_cache</code>. See an example if this isn&#39;t clear.</p><h3 id="Simulate-Accesses"><a class="docs-heading-anchor" href="#Simulate-Accesses">Simulate Accesses</a><a id="Simulate-Accesses-1"></a><a class="docs-heading-anchor-permalink" href="#Simulate-Accesses" title="Permalink"></a></h3><p>After creating a cache, use the <code>cache_load</code> and <code>cache_store</code> functions to simulate memory accesses. Pass the first level cache as an argument along with the starting address and number of bytes.</p><p>TODO: I want to have an option to return info about the access including hit/miss and set number for each level involved. This would allow external processing of the access stats.</p><h3 id="Output-Stats"><a class="docs-heading-anchor" href="#Output-Stats">Output Stats</a><a id="Output-Stats-1"></a><a class="docs-heading-anchor-permalink" href="#Output-Stats" title="Permalink"></a></h3><p>At any point the functions <code>print_stats</code> or <code>get_stats_string</code> will produce a summary of the loads, stores, hits and misses for each cache level.</p><ul><li><a href="#CacheSim.Cache"><code>CacheSim.Cache</code></a></li><li><a href="#CacheSim.build_cache-Tuple{String, Int64, Int64, Int64}"><code>CacheSim.build_cache</code></a></li><li><a href="#CacheSim.cache_load-Tuple{Cache, Int64, Int64}"><code>CacheSim.cache_load</code></a></li><li><a href="#CacheSim.cache_store-Tuple{Cache, Int64, Int64}"><code>CacheSim.cache_store</code></a></li><li><a href="#CacheSim.get_cacheSim_from_file-Tuple{String}"><code>CacheSim.get_cacheSim_from_file</code></a></li><li><a href="#CacheSim.get_stats_string-Tuple{Cache}"><code>CacheSim.get_stats_string</code></a></li><li><a href="#CacheSim.print_stats-Tuple{Cache}"><code>CacheSim.print_stats</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="CacheSim.Cache" href="#CacheSim.Cache"><code>CacheSim.Cache</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Cache</code></pre><p>The cache heirarchy is held in Cache objects. Each Cache represents one  level and has info about the memory structure, policies, heirarchy, and stats.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/paralab/CacheSim.jl/blob/bbacc069ee3bd86512032b915b5f2a08e75813ef/src/CacheSim.jl#L36-L41">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CacheSim.cache_load-Tuple{Cache, Int64, Int64}" href="#CacheSim.cache_load-Tuple{Cache, Int64, Int64}"><code>CacheSim.cache_load</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">cache_load(cache::Cache, addr::Int, bytes::Int)</code></pre><p>Load this many bytes from this address.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/paralab/CacheSim.jl/blob/bbacc069ee3bd86512032b915b5f2a08e75813ef/src/CacheSim.jl#L85-L89">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CacheSim.cache_store-Tuple{Cache, Int64, Int64}" href="#CacheSim.cache_store-Tuple{Cache, Int64, Int64}"><code>CacheSim.cache_store</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">cache_store(cache::Cache, addr::Int, bytes::Int)</code></pre><p>Store this many bytes to this address.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/paralab/CacheSim.jl/blob/bbacc069ee3bd86512032b915b5f2a08e75813ef/src/CacheSim.jl#L94-L98">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CacheSim.get_cacheSim_from_file-Tuple{String}" href="#CacheSim.get_cacheSim_from_file-Tuple{String}"><code>CacheSim.get_cacheSim_from_file</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_cacheSim_from_file(cache_file::String)</code></pre><p>Build a set of caches from a definition file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/paralab/CacheSim.jl/blob/bbacc069ee3bd86512032b915b5f2a08e75813ef/src/CacheSim.jl#L103-L107">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CacheSim.build_cache-Tuple{String, Int64, Int64, Int64}" href="#CacheSim.build_cache-Tuple{String, Int64, Int64, Int64}"><code>CacheSim.build_cache</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">build_cache(name::String, cl_size::Int, sets::Int, ways::Int; [kwargs])</code></pre><p>Build a cache with these parameters. kwargs(default):</p><ul><li><code>subblock_size</code>(cl_size)</li><li><code>replacement_policy_id</code>(1=LRU)</li><li><code>write_back</code>(0=no)</li><li><code>write_allocate</code>(0=no)</li><li><code>write_combining</code>(0=no)</li><li><code>load_from</code>(nothing)</li><li><code>store_to</code>(nothing)</li><li><code>victims_to</code>(nothing)</li><li><code>swap_on_load</code>(0)</li><li><code>verbosity</code>(0)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/paralab/CacheSim.jl/blob/bbacc069ee3bd86512032b915b5f2a08e75813ef/src/CacheSim.jl#L268-L283">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CacheSim.print_stats-Tuple{Cache}" href="#CacheSim.print_stats-Tuple{Cache}"><code>CacheSim.print_stats</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">print_stats(cache::Cache)</code></pre><p>Print all stats for each cache;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/paralab/CacheSim.jl/blob/bbacc069ee3bd86512032b915b5f2a08e75813ef/src/CacheSim.jl#L332-L336">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CacheSim.get_stats_string-Tuple{Cache}" href="#CacheSim.get_stats_string-Tuple{Cache}"><code>CacheSim.get_stats_string</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_stats_string(cache::Cache)</code></pre><p>Similar to print_stats, but returns the output string rather than printing it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/paralab/CacheSim.jl/blob/bbacc069ee3bd86512032b915b5f2a08e75813ef/src/CacheSim.jl#L356-L360">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Documentation for CacheSim.jl</a><a class="docs-footer-nextpage" href="../examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.18 on <span class="colophon-date" title="Thursday 26 May 2022 21:51">Thursday 26 May 2022</span>. Using Julia version 1.6.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
